import streamlit as st
import pandas as pd

st.set_page_config(page_title="ì˜ì–‘ì†Œ ì„ íƒ ì¡°íšŒ", page_icon="ğŸ")

st.title("ğŸ ìŒì‹ë³„ ì˜ì–‘ì†Œ ì¡°íšŒ")

# -----------------------------
# âœ… ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ìŒì‹ ë°ì´í„°
# -----------------------------
data = {
    "ìŒì‹": ["ì‚¬ê³¼", "ë°”ë‚˜ë‚˜", "ë”¸ê¸°", "ìš°ìœ ", "ìš”ê±°íŠ¸", "ì¹˜ì¦ˆ", "ê³„ë€", "í”¼ì", "ë¼ë©´", "ë°¥"],
    "ì¹¼ë¡œë¦¬": [52, 89, 33, 42, 59, 402, 155, 266, 450, 130],
    "ë‹¨ë°±ì§ˆ": [0.3, 1.1, 0.8, 3.4, 10, 25, 13, 11, 10, 2.7],
    "íƒ„ìˆ˜í™”ë¬¼": [14, 23, 8, 5, 3.6, 1.3, 1.1, 33, 70, 28],
    "ì§€ë°©": [0.2, 0.3, 0.3, 1, 0.4, 33, 11, 10, 16, 1]
}

df = pd.DataFrame(data)

# âœ… ì˜ì–‘ì†Œ ì„ íƒ
nutrient_option = st.selectbox(
    "ğŸ“Š ë³´ê³  ì‹¶ì€ ì˜ì–‘ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš”:",
    ["ì¹¼ë¡œë¦¬", "ë‹¨ë°±ì§ˆ", "íƒ„ìˆ˜í™”ë¬¼", "ì§€ë°©"]
)

# âœ… ìŒì‹ ì„ íƒ
food_option = st.multiselect(
    "ğŸ½ï¸ ì˜ì–‘ì†Œë¥¼ ë³´ê³  ì‹¶ì€ ìŒì‹ì„ ì„ íƒí•˜ì„¸ìš”:",
    df["ìŒì‹"].tolist(),
    default=[]
)

# -----------------------------
# âœ… ê²°ê³¼ ì¶œë ¥
# -----------------------------
if not food_option:
    st.info("ğŸ‘† ìœ„ì—ì„œ ìŒì‹ì„ ì„ íƒí•˜ë©´ ì˜ì–‘ì†Œ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.")
else:
    filtered = df[df["ìŒì‹"].isin(food_option)][["ìŒì‹", nutrient_option]]

    # âœ… ì„ íƒí•œ ì˜ì–‘ì†Œ ê¸°ì¤€ ì •ë ¬
    filtered = filtered.sort_values(by=nutrient_option, ascending=False)

    st.subheader(f"âœ… ì„ íƒí•œ ìŒì‹ì˜ '{nutrient_option}' ë¹„êµ ê²°ê³¼")
    st.table(filtered.set_index("ìŒì‹"))
